<?xml version="1.0" encoding="utf-8"?>
<?xml-model href="http://www.oasis-open.org/docbook/xml/5.1/rng/docbook.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="../../../../../../formatter/com.compart.documentation.formatter/resources/schematron/cpdocbook.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<!DOCTYPE book [
<!ENTITY % compartentities SYSTEM "../../../../../../formatter/com.compart.documentation.formatter/resources/entities/entities.ent">
%compartentities;
]>
<chapter xml:id="db_pil_wui_fieldsView" xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink"
    version="5.1" xml:lang="en-US">
    <title>Handling Document Attributes</title>
    <indexterm><primary>functional attributes</primary><secondary>create</secondary></indexterm>
    <indexterm><primary>configuration</primary><secondary>functional attributes</secondary></indexterm>
    <para>You can define document attributes (functional attributes) for a process unit. Document attributes are used to store metadata and document properties in the database (in the DOCATTR table). Document attributes can be used during configuration of output processing. For the creation of document attributes, some fields have been reserved in the database. Therefore, when you create a new document attribute, you create a mapping of the document attribute name to one of the existing table columns (COL001 to COL050). The following actions are supported in the <guilabel>Document attributes</guilabel> view:</para>
    <itemizedlist>
        <listitem>
            <para><xref linkend="create_field"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="display_fields"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="display_fieldDetails"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="modify_field"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="multi_edit_documentAttributes"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="filter_fields"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="delete_fields"/></para>
        </listitem>
    </itemizedlist>
    <sect1 xml:id="create_field"><?dbhtml filename="SearchFieldsView.html" ?><title>Defining a Document Attribute</title>
        <para>You can define a document (functional) attribute (map the document attribute name to an existing column name). You can configure the desired properties in a separate dialog.</para>
        <para>Proceed as follows to define a new field.</para>
        <procedure>
            <step>
                <para>Switch to the <guilabel>Document attributes</guilabel> view.</para>
            </step>
            <step>
                <para>In the navigation bar of the view, click <inlinemediaobject><alt>Button Create</alt><imageobject>
                            <imagedata fileref="images/btn_add.png" scalefit="1"/>
                        </imageobject></inlinemediaobject> (Create).</para>
                <result>
                    <para>A new entry with empty fields is created in the overview table. The fields <guilabel>ID</guilabel>, <guilabel>Attribute Name</guilabel> and <guilabel>Data Size</guilabel> contain mandatory information and are therefore highlighted in red (marked as incorrect) while they do not contain a valid value.</para>
                </result>
            </step>
            <step>
                <para>In the <guilabel>ID</guilabel> field, use the arrow keys to select a free number as a unique identifier for the new document attribute.</para>
            </step>
            <step>
                <para>In the <guilabel>Attribute Name</guilabel> field, enter the new document attribute.</para>
                <para>The following attribute names are pre-defined, that is, they already exist as columns in the <database>DOCATTR</database> table. Therefore, you must not use the following names as attribute names for a new document attribute:</para>
                <itemizedlist>
                    <listitem>
                        <para><database>DOCID</database></para>
                    </listitem>
                    <listitem>
                        <para><database>ZIP</database></para>
                    </listitem>
                    <listitem>
                        <para><database>TOTALPAGES</database></para>
                    </listitem>
                    <listitem>
                        <para><database>COUNTRY</database></para>
                    </listitem>
                    <listitem>
                        <para><database>ISOCODE</database></para>
                    </listitem>
                    <listitem>
                        <para><database>VARIOOPT</database></para>
                    </listitem>
                    <listitem>
                        <para><database>PREMIUMKDNR</database></para>
                    </listitem>
                </itemizedlist>
            </step>
            <step>
                <para>In the field <guilabel>Data Type</guilabel>, enter the data type to the sample file. Use the value <userinput>C</userinput> for strings or <code>N</code> for numbers. Unless specified otherwise the default value <code>C</code> is used.</para>
            </step>
            <step>
                <para>In the <guilabel>Data Size</guilabel> field, use the arrow keys to select the maximum number of characters the document attribute can contain. The default value <code>255</code> is pre-selected.</para>
            </step>
            <step>
                <stepalternatives>
                    <step>
                        <para>Click <inlinemediaobject><alt>Save button</alt><imageobject>
                                    <imagedata fileref="images/btn_save.png" align="left"
                                        format="PNG" scalefit="1"/>
                                </imageobject></inlinemediaobject> (Save) to save the new document attribute and exit the editing mode.</para>
                        <result>
                            <para>The editing mode is terminated and the new document attribute is displayed in the overview table.</para>
                        </result>
                    </step>
                    <step>
                        <para>Click <inlinemediaobject><alt>Cancel button</alt><imageobject>
                                    <imagedata fileref="images/btn_cancel.png" align="left"
                                        format="PNG" scalefit="1"/>
                                </imageobject></inlinemediaobject> (Cancel) to cancel the creation of the document attribute and exit the editing mode without saving the directory mapping.</para>
                    </step>
                </stepalternatives>
            </step>
        </procedure>
        <note>
            <para>Usually, functional attributes are defined in the configuration interface <productname>&dbwp;</productname> in <menuchoice><guimenu>Process Configuration</guimenu> <guisubmenu>General Settings</guisubmenu> <guisubmenu>Definitions</guisubmenu> <guisubmenu>Field Name List</guisubmenu></menuchoice> If you use the web interface to configure new document attributes or make changes to existing document attributes, please keep in mind that you also need to make these changes in <productname>&dbwp;</productname>. Otherwise, your changes will be overwritten during the next deployment of the respective process unit.</para>
            <indexterm>
                <primary>fields</primary>
                <secondary>configure in DocBridge Workbench for Pilot</secondary>
            </indexterm>
        </note>
    </sect1>
    <sect1 xml:id="display_fields">
        <title>Displaying Document Attributes</title>
        <para>You can display an overview of the configured document attributes in the workspace of the <guilabel>Document attributes</guilabel> view.</para>
        <mediaobject><alt>Screenshot Directories view</alt><imageobject>
                <imagedata fileref="images/scr_FieldsView.png" width="14cm"/>
            </imageobject>
        </mediaobject>
        <para>The overview table displays the following information for each configured document attribute by default:</para>
        <variablelist>
            <varlistentry>
                <term><guilabel>ID</guilabel></term>
                <listitem>
                    <para>Unique identifier of the new document attribute (sequential number).</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Attribute Name</guilabel></term>
                <listitem>
                    <para>Table column that is to be used for the new document attribute (functional attribute).</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Data Type</guilabel></term>
                <listitem>
                    <para>Valid values are <userinput>C</userinput> (for characters) or <userinput>N</userinput> (for numbers)</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Data Size</guilabel></term>
                <listitem>
                    <para>The maximum number of characters in the table column (in the document attribute).</para>
                </listitem>
            </varlistentry>
        </variablelist>
    </sect1>
    <sect1 xml:id="display_fieldDetails">
        <title>Displaying Document Attribute Details</title>
        <para>You can display the details for a specific document attribute in the details pane. Currently, the details pane contains the same scope of information as the overview table.</para>
        <mediaobject><alt>Fields view with details pane</alt><imageobject>
                <imagedata fileref="images/scr_FieldsViewDetails.png" align="left" width="15cm"
                    format="PNG"/>
            </imageobject>
        </mediaobject>
    </sect1>
    <sect1 xml:id="modify_field">
        <title>Modifying a Document Attribute</title>
        <para>You can modify the document attribute properties.</para>
        <note>
            <para>Please keep in mind that you cannot use this action to modify the document attribute ID. To change the ID, create a new document attribute with the desired ID (see <xref linkend="create_field"
                />).</para>
        </note>
        <para>Proceed as follows to edit the properties of an existing document attribute:</para>
        <procedure>
            <step>
                <para>Switch to the <guilabel>Document attributes</guilabel> view.</para>
            </step>
            <step>
                <para>Double-click the desired row in the overview table.</para>
                <result>
                    <para>The entry switches to editing mode.</para>
                </result>
            </step>
            <step>
                <para>In the <guilabel>Attribute Name</guilabel> field, enter the new functional attribute.</para>
                <para>The following attribute names are pre-defined, that is, they already exist as columns in the <database>DOCATTR</database> table. Therefore, you must not use the following names as attribute names for a new document attribute:</para>
                <itemizedlist>
                    <listitem>
                        <para><database>DOCID</database></para>
                    </listitem>
                    <listitem>
                        <para><database>ZIP</database></para>
                    </listitem>
                    <listitem>
                        <para><database>TOTALPAGES</database></para>
                    </listitem>
                    <listitem>
                        <para><database>COUNTRY</database></para>
                    </listitem>
                    <listitem>
                        <para><database>ISOCODE</database></para>
                    </listitem>
                    <listitem>
                        <para><database>VARIOOPT</database></para>
                    </listitem>
                    <listitem>
                        <para><database>PREMIUMKDNR</database></para>
                    </listitem>
                </itemizedlist>
            </step>
            <step>
                <para>In the field <guilabel>Data Type</guilabel>, enter the data type to the sample file. Use the value <userinput>C</userinput> for strings or <code>N</code> for numbers.</para>
            </step>
            <step>
                <para>In the <guilabel>Data Size</guilabel> field, use the arrow keys to select the maximum number of characters the document attribute can contain.</para>
            </step>
            <step>
                <stepalternatives>
                    <step>
                        <para>Click <inlinemediaobject><alt>Save button</alt><imageobject>
                                    <imagedata fileref="images/btn_save.png" align="left"
                                        format="PNG" scalefit="1"/>
                                </imageobject></inlinemediaobject> (Save) to save the updated values for the document attributes and exit the editing mode.</para>
                        <result>
                            <para>The editing mode is terminated and the document attribute is displayed with the updated values in the overview table.</para>
                        </result>
                    </step>
                    <step>
                        <para>Click <inlinemediaobject><alt>Cancel button</alt><imageobject>
                                    <imagedata fileref="images/btn_cancel.png" align="left"
                                        format="PNG" scalefit="1"/>
                                </imageobject></inlinemediaobject> (Cancel) to cancel the creation of the document attribute and exit the editing mode without saving the directory mapping.</para>
                    </step>
                </stepalternatives>
            </step>
        </procedure>
    </sect1>
    <sect1 xml:id="multi_edit_documentAttributes">
        <title>Modifying Multiple Document Attributes</title>
        <para>You can edit selected values for multiple document attributes in one step.</para>
        <note>
            <para>Please keep in mind that with this function, you define the same values for all selected document attributes.</para>
        </note>
        <para>Proceed as follows to edit the settings of the selected document attributes.</para>
        <procedure>
            <step>
                <para>Switch to the <guilabel>Document attributes</guilabel> view.</para>
            </step>
            <step>
                <para>Select at least two document attributes from the overview table.</para>
            </step>
            <step>
                <para>In the navigation bar of the web interface, click <inlinemediaobject><alt>Icon Edit</alt><imageobject>
                        <imagedata fileref="images/btn_edit.png" align="left" format="PNG"
                            scalefit="1"/>
                    </imageobject></inlinemediaobject> (Edit).</para>
                <result>
                    <para>The <guilabel>Edit</guilabel> dialog opens.</para>
                </result>
            </step>
            <step>
                <para>Tick the checkbox in front of each value you want to change for all selected document attributes.</para>
            </step>
            <step>
                <para>In the <guilabel>Process</guilabel> field, specify the process to which you want to link the selected document attributes.</para>
            </step>
            <step>
                <para>In the <guilabel>Attribute Name</guilabel> field, specify a new name for the selected document attributes, if required.</para>
            </step>
            
            <step>
                <stepalternatives>
                    <step>
                        <para>Click <guibutton>OK</guibutton> to save the changed settings for all selected document attributes and close the dialog.</para>
                        <result>
                            <para>The changed settings for the selected document attributes are displayed in the overview table and in the details pane.</para>
                        </result>
                    </step>
                    <step>
                        <para>Click <guibutton>Cancel</guibutton> to close the dialog without changing the settings.</para>
                    </step>
                </stepalternatives>
            </step>
        </procedure>
    </sect1> 
    <sect1 xml:id="filter_fields">
        <title>Filtering Document Attributes</title>
        <para>Use this action to filter the overview of existing document attributes.</para>
        <para>Proceed as follows to filter the existing document attributes and thus reduce the number of displayed document attributes.</para>
        <procedure>
            <step>
                <para>Switch to the <guilabel>Document attributes</guilabel> view.</para>
            </step>
            <step>
                <para>In the navigation bar of the view, place the cursor in the text field <guilabel>Filter</guilabel>.</para>
            </step>
            <step>
                <para>You can filter the existing document attributes by ID (simple filter) or by other parameters (for more information about filter criteria, see <xref linkend="db_pil_wui_filterSettings"/>).</para>
            </step>
        </procedure>
    </sect1>
    <sect1 xml:id="delete_fields">
        <title>Deleting Document Attributes</title>
        <para>Use this action to delete a single document attribute or multiple document attributes. Proceed as follows to delete existing document attributes.</para>
        <procedure>
            <step>
                <para>Switch to the <guilabel>Document attributes</guilabel> view.</para>
            </step>
            <step>
                <para>Select at least one document attribute from the overview table.</para>
            </step>
            <step>
                <para>In the navigation bar of the view, click <inlinemediaobject><alt>Button Delete</alt><imageobject>
                            <imagedata fileref="images/btn_delete.png" scalefit="1"/>
                        </imageobject></inlinemediaobject> (Delete).</para>
                <result>
                    <para>The confirmation dialog <guilabel>Delete Document Attributes</guilabel> opens.</para>
                </result>
            </step>
            <step>
                <stepalternatives>
                    <step>
                        <para>In the confirmation dialog <guilabel>Delete Document Attributes</guilabel>, click <guibutton>OK</guibutton> to delete the selected document attribute (or document attributes).</para>
                    </step>
                    <step>
                        <para>In the confirmation dialog <guilabel>Delete Document Attributes</guilabel>, click <guibutton>Cancel</guibutton> to close the dialog <emphasis>without</emphasis> deleting the selected document attribute(s).</para>
                    </step>
                </stepalternatives>
                <result>
                    <para>If the document attribute(s) have been successfully deleted, a success message is displayed.</para>
                    <para>If the document attribute(s) could not be deleted, a corresponding error message is displayed.</para>
                </result>
            </step>
        </procedure>
    </sect1>
</chapter>