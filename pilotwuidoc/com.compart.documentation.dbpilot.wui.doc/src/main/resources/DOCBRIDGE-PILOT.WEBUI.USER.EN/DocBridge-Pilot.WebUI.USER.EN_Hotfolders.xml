<?xml version="1.0" encoding="utf-8"?>
<?xml-model href="http://www.oasis-open.org/docbook/xml/5.1/rng/docbook.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="../../../../../../formatter/com.compart.documentation.formatter/resources/schematron/cpdocbook.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<!DOCTYPE book [
<!ENTITY % compartentities SYSTEM "../../../../../../formatter/com.compart.documentation.formatter/resources/entities/entities.ent">
%compartentities;
]>
<chapter xml:id="db_pil_wui_hotfoldersView" xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink"
    version="5.1" xml:lang="en-US">
    <title>Working with Hotfolders</title>
    <para>The following sections describe how to work with the <productname>&dbpi;</productname> configured hotfolders. Hotfolders are used for processing control. You can store input files in one of the configured hotfolders in order to have them processed by <productname>&dbpi;</productname>.</para>
    <para>The <guilabel>Hotfolders</guilabel> view displays the configured hotfolders. The following actions are supported in the <guilabel>Hotfolders</guilabel> view:</para>
    <itemizedlist>
        <listitem>
            <para><xref linkend="create_hotfolder"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="display_hotfolders"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="display_hotfolderDetails"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="modify_hotfolder"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="multi_edit_hotfolders"/></para>
        </listitem>
        <listitem>
            <para><xref linkend="delete_hotfolders"/></para>
        </listitem>
    </itemizedlist>
    <sect1 xml:id="create_hotfolder"><?dbhtml filename="SearchHotfoldersView.html" ?><title>Creating a Hotfolder</title>
        <para>You can use the web interface to create custom hotfolders. Proceed as follows to create a new hotfolder.</para>
        <procedure>
            <step>
                <para>Switch to the <guilabel>Hotfolder</guilabel> view.</para>
            </step>
            <step>
                <para>In the navigation bar of the view, click <inlinemediaobject><alt>Button Create</alt><imageobject>
                            <imagedata fileref="images/btn_add.png" scalefit="1"/>
                        </imageobject></inlinemediaobject> (Create).</para>
                <result>
                    <para>A new entry with empty fields is created in the overview table. The <guilabel>ID</guilabel> field contains mandatory information and is therefore highlighted in red (marked as incorrect) while it does not contain a valid value.</para>
                </result>
            </step>
            <step>
                <para>In the overview table, enter the desired settings for the new hotfolder.</para>
            </step>
            <step>
                <stepalternatives>
                    <step>
                        <para>Click <inlinemediaobject><alt>Save button</alt><imageobject>
                                    <imagedata fileref="images/btn_save.png" align="left"
                                        format="PNG" scalefit="1"/>
                                </imageobject></inlinemediaobject> (Save) to save the new hotfolder and exit the editing mode.</para>
                        <result>
                            <para>The editing mode is terminated and the new hotfolder is displayed in the overview table.</para>
                        </result>
                    </step>
                    <step>
                        <para>Click <inlinemediaobject><alt>Cancel button</alt><imageobject>
                                    <imagedata fileref="images/btn_cancel.png" align="left"
                                        format="PNG" scalefit="1"/>
                                </imageobject></inlinemediaobject> (Cancel) to cancel the creation of the hotfolder and exit the edit mode without saving the configuration.</para>
                    </step>
                </stepalternatives>
            </step>
        </procedure>
    </sect1>
    <sect1 xml:id="display_hotfolders">
        <title>Listing Hotfolders</title>
        <para>You can display an overview of the configured hotfolders in the workspace of the <guilabel>Hotfolders</guilabel> view.</para>
        <mediaobject><alt>Screenshot Hotfolders view</alt><imageobject>
                <imagedata fileref="images/scr_HotfoldersView.png" width="14cm"/>
            </imageobject>
        </mediaobject>
        <para>The overview table displays the following information for each configured hotfolder by default:</para>
        <variablelist>
            <varlistentry>
                <term><guilabel>ID</guilabel></term>
                <listitem>
                    <para>The unique identifier of the hotfolder.</para>

                </listitem>
            </varlistentry><!--      <varlistentry>
                <term><guilabel>Gruppe</guilabel></term>
                <listitem>
                    <para>Job-Gruppe. Eindeutiger Name der den Import-Task (Hotfolder) im Scheduler
                        bezeichnet. Der Name der Job-Gruppe hat das folgende Format:
                            <code>[HOTFOLDERID]#[PROCESSID]</code>.</para>

                </listitem>
            </varlistentry>--><varlistentry>
                <term><guilabel>application</guilabel></term>
                <listitem>
                    <para>Reference to an application object that is called when the hotfolder is started (for more information, see <xref
                            linkend="db_pil_wui_applicationsView"/>).</para>

                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Trigger</guilabel></term>
                <listitem>
                    <para>If you defined a trigger, it is referenced here.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Trigger Directory ID</guilabel></term>
                <listitem>
                    <para>Directory (hotfolder) that is checked for the presence of a trigger file.</para>
                </listitem>
            </varlistentry>
        </variablelist>
    </sect1>
    <sect1 xml:id="display_hotfolderDetails">
        <title>Displaying Hotfolder Details</title>
        <para>You can display the details for a specific hotfolder in the details pane. Compared to the overview table the details pane contains more information.</para>
        <mediaobject><alt>Hotfolders view with details pane</alt><imageobject>
                <imagedata fileref="images/scr_HotfoldersViewDetails.png" align="left" width="15cm"
                    format="PNG"/>
            </imageobject>
        </mediaobject>
        <para>Compared to the overview table the details pane contains more information. The following information is currently available in the details pane:</para>
        <variablelist>
            <varlistentry>
                <term><guilabel>ID</guilabel></term>
                <listitem>
                    <para>The unique identifier of the hotfolder.</para>

                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Type</guilabel></term>
                <listitem>
                    <para>Currently, only the value <guilabel>hotfolders</guilabel>  is supported.</para>

                </listitem>
            </varlistentry><!--<varlistentry>
                <term><guilabel>Name</guilabel></term>
                <listitem>
                    <para>Der benutzerdefinierte Name des Hotfolders.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Gruppe</guilabel></term>
                <listitem>
                    <para>Mithilfe des Gruppennamens können Sie mehrere Hotfolder zu einem
                        Verarbeitungsablauf gruppieren und so leichter die Übersicht behalten, wenn
                        Sie mit mehreren Hotfoldern arbeiten.</para>

                </listitem>
            </varlistentry>--><varlistentry>
                <term><guilabel>Application</guilabel></term>
                <listitem>
                    <para>Reference to an application object that is called when the hotfolder is started (for more information, see <xref
                            linkend="db_pil_wui_applicationsView"/>).</para>

                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Trigger</guilabel></term>
                <listitem>
                    <para>If you have defined a trigger, it will be referenced here (for more information on triggers, see <xref
                            linkend="db_pil_wui_triggersView"/>).</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Active</guilabel></term>
                <listitem>
                    <para>Specifies whether or not the hotfolder is enabled. You can disable hotfolders to keep the configuration but (temporarily) not process files that are placed in the hotfolder. This way, you can switch between configurations. Valid available values are <code>true</code> (default) and <code>false</code>. If you set the value to <userinput>false</userinput>, files (including trigger files) in the hotfolder will be ignored.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Trigger File</guilabel></term>
                <listitem>
                    <para>Trigger File Pattern</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Trigger Directory ID</guilabel></term>
                <listitem>
                    <para>Name of the directory where the trigger file is expected.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Delete Trigger File</guilabel></term>
                <listitem>
                    <para>Specifies whether trigger files in the hotfolder should be deleted after processing the corresponding file(s) in the hotfolder. The values <guilabel>true</guilabel> and <guilabel>false</guilabel> (default) are valid. With the default value <guilabel>false</guilabel>, the trigger file remains in the hotfolder and you just need to copy matching input files into the hotfolder to have them processed. If you set the value to <guilabel>true</guilabel>, case the trigger file is removed from the hotfolder when the file(s) are moved to the next directory for processing. In this case, in addition to the new input files, you also need to copy a new trigger file to the hotfolder to trigger processing.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Output directory</guilabel></term>
                <listitem>
                    <para>Name of the directory, where the output files are to be stored.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Job class</guilabel></term>
                <listitem>
                    <para>Job class for the generated job</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Check ZIP code</guilabel></term>
                <listitem>
                    <para>Specifies whether or not the zip code in address fields should be validated.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Check country</guilabel></term>
                <listitem>
                    <para>Specifies whether or not the country name in address fields should be validated.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Create Error Job</guilabel></term>
                <listitem>
                    <para>Specifies, whether or not a separate error job is to be created for documents with an erroneous zip code (or country name). The values <guilabel>true</guilabel> and <guilabel>false</guilabel> (default) are valid. With th default value, no error job is created. If an error occurs, you need to collect the affected files as needed and create a new job. If you set the value to <guilabel>true</guilabel>, an error job is created automatically.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Import mode</guilabel></term>
                <listitem>
                    <para>Specifies whether all files (covered by the trigger file) in the hotfolder should be combined into one job (<guilabel>singlejob</guilabel>), or whether a separate job should be created for each file (<guilabel>multiplejobs</guilabel>).</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Encryption</guilabel></term>
                <listitem>
                    <para>Specifies the encryption method. The default value is UTF-8.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Use CSV File Name in Pages</guilabel></term>
                <listitem>
                    <para>Specifies, whether or not the name of the CSV file should be printed on the pages. Valid values are <guilabel>true</guilabel> and <guilabel>false</guilabel> (default).</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Exception on CSV error</guilabel></term>
                <listitem>
                    <para>Specifies, whether or not an exception should be thrown if the CSV file contains an error.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Quotation mark</guilabel></term>
                <listitem>
                    <para>Specifies by which separator the columns in the CSV file are to be separated. The default value is double quotation marks (<code>&quot;</code>).</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term><guilabel>Relaxed</guilabel></term>
                <listitem>
                    <para>Defines if processing is to be done in Relaxed mode. Relaxed mode is a fault-tolerant mode that allows processing to be completed even if errors occur. Valid values are <guilabel>true</guilabel> and <guilabel>false</guilabel> (default). If you use the value <guilabel>true</guilabel>, please keep in mind that the generated output files might not meet your expectations or might contain errors. In Relaxed mode, processing continues even if missing images or fonts render the result unusable.</para>
                </listitem>
            </varlistentry>
        </variablelist>
    </sect1>
    <sect1 xml:id="modify_hotfolder">
        <title>Modifying a Hotfolder</title>
        <para>You can edit the hotfolder properties.</para>
        <note>
            <para>Please keep in mind that you can not use this action to modify the hotfolder ID. To change the ID, create a new hotfolder with the desired values (see <xref linkend="create_hotfolder"/>).</para>
        </note>
        <para>Proceed as follows to edit the values of an existing hotfolder:</para>
        <procedure>
            <step>
                <para>Switch to the <guilabel>Hotfolder</guilabel> view.</para>
            </step>
            <step>
                <para>Double-click the desired row in the overview table.</para>
                <result>
                    <para>The entry switches to editing mode.</para>
                </result>
            </step>
            <step>
                <para>Specify the desired new application in the <guilabel>Application</guilabel> field.</para>
            </step>
            <step>
                <para>Specify the desired new trigger in the <guilabel>Trigger</guilabel> field.</para>
            </step>
            <step>
                <para>Change the directory where the trigger file is expected.</para>
            </step>
            <step>
                <stepalternatives>
                    <step>
                        <para>Click <inlinemediaobject><alt>Save button</alt><imageobject>
                                    <imagedata fileref="images/btn_save.png" align="left"
                                        format="PNG" scalefit="1"/>
                                </imageobject></inlinemediaobject> (Save) to save the hotfolder with the new values and exit the editing mode.</para>
                        <result>
                            <para>The editing mode is terminated and the hotfolder is displayed in the overview table with the updated values.</para>
                        </result>
                    </step>
                    <step>
                        <para>Click <inlinemediaobject><alt>Cancel button</alt><imageobject>
                                    <imagedata fileref="images/btn_cancel.png" align="left"
                                        format="PNG" scalefit="1"/>
                                </imageobject></inlinemediaobject> (Cancel) to cancel the hotfolder update and exit the editing mode without saving the changes.</para>
                    </step>
                </stepalternatives>
            </step>
        </procedure>
    </sect1>
    <sect1 xml:id="multi_edit_hotfolders">
        <title>Modifying Multiple Hotfolders</title>
        <para>You can edit selected values for multiple hotfolders in one step.</para>
        <note>
            <para>Please keep in mind that with this function, you define the same values for all selected hotfolders.</para>
        </note>
        <para>Proceed as follows to edit the properties of the selected hotfolders.</para>
        <procedure>
            <step>
                <para>Switch to the <guilabel>Hotfolder</guilabel> view.</para>
            </step>
            <step>
                <para>Select at least two hotfolders from the overview table.</para>
            </step>
            <step>
                <para>In the navigation bar of the web interface, click <inlinemediaobject><alt>Icon Edit</alt><imageobject>
                            <imagedata fileref="images/btn_edit.png" align="left" format="PNG"
                                scalefit="1"/>
                        </imageobject></inlinemediaobject> (Edit).</para>
                <result>
                    <para>The <guilabel>Edit</guilabel> dialog opens.</para>
                </result>
            </step>
            <step>
                <para>Tick the checkbox in front of each value you want to change for all selected hotfolders.</para>
            </step>
            <step>
                <para>In the <guilabel>Process</guilabel> field, specify the process to which the selected hotfolders should be linked.</para>
            </step>
            <step>
                <para>In the <guilabel>Active</guilabel> field, specify whether the selected hotfolders should be active (value <guilabel>true</guilabel>) or inactive (value <guilabel>false</guilabel>).</para>
                <note>
                    <para>This field allows you to enable or disable all selected hotfolders in one step.</para>
                </note>
            </step>
            <step>
                <para>In the <guilabel>Application</guilabel> field, specify the referenced application for all selected hotfolders.</para>
            </step>
            <step>
                <para>In the <guilabel>Trigger</guilabel> field, specify the referenced trigger for all selected hotfolders.</para>
            </step>
            <step>
                <para>If necessary, specify the directory where the trigger file is expected (in the <guilabel>Trigger Directory ID</guilabel> field).</para>
            </step>
            <step>
                <para>If necessary, specify the output directory (in the <guilabel>Output Directory ID</guilabel> field).</para>
            </step>
            <step>
                <para>If necessary, change the import mode for jobs created from the documents in the selected hotfolders. Valid values are <userinput>singlejob</userinput> (all documents in the hotfolder are combined in a single job) and <userinput>multiplejob</userinput> (a separate job is created for each document in the hotfolder).</para>
            </step>
            <step>
                <stepalternatives>
                    <step>
                        <para>Click <guibutton>OK</guibutton> to save the changed settings for all selected hotfolders and close the dialog.</para>
                        <result>
                            <para>The changed settings for the selected hotfolders are displayed in the overview table and in the details pane.</para>
                        </result>
                    </step>
                    <step>
                        <para>Click <guibutton>Cancel</guibutton> to close the dialog without changing the settings.</para>
                    </step>
                </stepalternatives>
            </step>
        </procedure>
    </sect1>

    <sect1 xml:id="delete_hotfolders">
        <title>Deleting a Hotfolder</title>
        <para>Use this action to delete a single hotfolder or multiple hotfolders. Proceed as follows to delete existing hotfolders.</para>
        <procedure>
            <step>
                <para>Switch to the <guilabel>Hotfolder</guilabel> view.</para>
            </step>
            <step>
                <para>Select at least one hotfolder from the overview table.</para>
            </step>
            <step>
                <para>In the navigation bar of the view, click <inlinemediaobject><alt>Button Delete</alt><imageobject>
                            <imagedata fileref="images/btn_delete.png" scalefit="1"/>
                        </imageobject></inlinemediaobject> (Delete).</para>
                <result>
                    <para>The confirmation dialog <guilabel>Delete Hotfolders</guilabel> opens.</para>
                </result>
            </step>
            <step>
                <stepalternatives>
                    <step>
                        <para>In the confirmation dialog <guilabel>Delete Hotfolders</guilabel>, click <guibutton>OK</guibutton> to delete the selected hotfolder (or hotfolders).</para>
                    </step>
                    <step>
                        <para>In the confirmation dialog <guilabel>Delete Hotfolders</guilabel>, click <guibutton>Cancel</guibutton>  to close the dialog <emphasis>without</emphasis> deleting the selected hotfolder(s).</para>
                    </step>
                </stepalternatives>
                <result>
                    <para>If the hotfolders have been successfully deleted, a success message is displayed.</para>
                    <para>If the hotfolders could not be deleted, the corresponding error message is displayed.</para>
                </result>
            </step>
        </procedure>
    </sect1>
</chapter>